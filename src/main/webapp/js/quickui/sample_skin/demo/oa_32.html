<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>无标题文档</title>
		<!--框架必需start-->
		<script type="text/javascript" src="../../libs/js/jquery.js"></script>
		<script type="text/javascript" src="../../libs/js/language/cn.js"></script>
		<script type="text/javascript" src="../../libs/js/framework.js"></script>
		<link href="../../libs/css/import_basic.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" type="text/css" id="skin" prePath="../../" />
		<link rel="stylesheet" type="text/css" id="customSkin" />
		<!--框架必需end-->
		<link rel="stylesheet" type="text/css" href="style/style.css" />

		
		<script src="../../libs/js/table/quiGrid.js" type="text/javascript"></script>
	</head>

	<body>
		<div class="page_content">
			<div class="infoCard" style="margin-bottom: 30px;">
				<div class="title">
					<span>基本资料</span>
				</div>
				<table border="0" cellspacing="0" cellpadding="0" class="announcement_title">
					<tr class="last_list">
						<td style="width: 210px;vertical-align: top;padding-left: 10px;">
							<p>采购日期</p>
							<input type="text" name="" id="" value="" style="width: 200px;"/>
						</td>
						<td style="width: 310px;vertical-align: top;">
							<p>收货仓库</p>
							<select selWidth="300" data='{"list":[{"value":"0","key":"选择收货仓库"},{"value":"1","key":"北京仓库"},{"value":"2","key":"天津仓库"},{"value":"3","key":"上海仓库"}]}'></select>
						</td>
						<td style="width: 310px;vertical-align: top;">
							<p>厂商</p>
							<select selWidth="300" data='{"list":[{"value":"0","key":"选择供货商"},{"value":"1","key":"北京XX有限公司"},{"value":"2","key":"北京SS有限公司"},{"value":"3","key":"北京AA有限公司"}]}'></select>
						</td>
						<td style="padding-right: 10px;">
							<p>备注</p>
							<textarea name="" rows="" cols="" style="width: 100%;height: 60px;"></textarea>
						</td>
					</tr>
					
					
				</table>
				
			</div>
			
			
			
			<div class="demo_operation">
				<input type="button" value="新增采购商品" class="primary" onclick="new_purchased()" />
			</div>
			<div class="infoCard infoCard2">
				<div class="title">
					<span>产品资料</span>
				</div>
				<div id="dataBasic"></div>
				<table border="0" cellspacing="0" cellpadding="0" class="" style="padding: 30px 0 20px 0;">
					<tr>
						<td style="width: 210px;vertical-align: top;padding-left: 10px;">
							<p>产品合计</p>
							<input type="text" value="1" style="width: 200px;" disabled="true"/>
						</td>
						<td style="width: 310px;vertical-align: top;">
							<p>数量合计</p>
							<input type="text" value="1" style="width: 200px;" disabled="true"/>
						</td>
						<td style="width: 310px;vertical-align: top;">
							<p>合计金额</p>
							<input type="text" value="1" style="width: 200px;" disabled="true"/>
						</td>
					</tr>
				</table>
				<table border="0" cellspacing="0" cellpadding="0" style="padding: 20px 0;width: 100%;border-top: 1px solid #F5F5F5;">
					<tr>
						<td style="vertical-align: middle;text-align: center;">
							<input type="button" name="" id="" value="取 消" onclick="window.location='oa_30.html'"/>
							<input type="button" name="" id="" value="保 存" class="primary" onclick="window.location='oa_30.html'"/>
							<input type="button" name="" id="" value="提 交" class="primary" onclick="window.location='oa_30.html'"/>
						</td>
					</tr>
				</table>
			</div>
		</div>

		<script type="text/javascript">
			var grid = null;
			//数据表格使用
			var gridData = {
				"form.paginate.pageNo": 1,
				"form.paginate.totalRows": 13,
				"rows": [{
						"id": 5418,
						"Commodity_code": "zbb1312312",
						"Internal_encoding": "zbb43212321",
						"Name": "百倍奇偶欧昂",
						"specification": "",
						"Price": 30.75,
						"Company": "",
						"Adjust_price": 30.75,
						"Num": 1,
						"Money": 30.75
					}
				]
			}

			function initComplete() {
				grid = $("#dataBasic").quiGrid({
					columns: [{
							display: 'ID',
							name: 'id',
							width: "10%",
							render: function(rowdata, rowindex, value, column) {
								var mainCon = $('<div></div>');
								//var con = $('<span class="purchased">'+rowdata.id+'<span>');
								var con = $('<input class="purchased" type="text" value="'+rowdata.id+'" disabled="true"/>');
								
								
								mainCon.append(con);
								return mainCon.html();
							}
						},
						{
							display: '商品编码',
							name: 'Commodity_code',
							width: "10%"
						},
						{
							display: '内部编码',
							name: 'Internal_encoding',
							width: "10%"
						},
						{
							display: '商品名称',
							name: 'Name',
							width: "10%"
						},
						{
							display: '商品规格',
							name: 'specification',
							width: "10%"
						},
						{
							display: '单价',
							name: 'Price',
							width: "10%",
							render: function(rowdata, rowindex, value, column) {
								var mainCon = $('<div></div>');
								var con = $('<input class="purchased" type="text" value="'+rowdata.Price+'" disabled="true"/>');
								mainCon.append(con);
								return mainCon.html();
							}
						},
						{
							display: '单位',
							name: 'Company',
							width: "10%"
						},
						{
							display: '调整价格',
							name: 'Adjust_price',
							width: "10%",
							render: function(rowdata, rowindex, value, column) {
								var mainCon = $('<div></div>');
								var con = $('<input class="purchased purchased2" type="text" value="'+rowdata.Adjust_price+'" />');
								mainCon.append(con);
								return mainCon.html();
							}
						},
						{
							display: '数量',
							name: 'Num',
							width: "10%",
							render: function(rowdata, rowindex, value, column) {
								var mainCon = $('<div></div>');
								var con = $('<input class="purchased purchased2" type="text" value="'+rowdata.Num+'" />');
								mainCon.append(con);
								return mainCon.html();
							}
						},
						{
							display: '金额',
							name: 'Money',
							width: "10%",
							render: function(rowdata, rowindex, value, column) {
								var mainCon = $('<div></div>');
								var con = $('<input class="purchased" type="text" value="'+rowdata.Money+'" disabled="true"/>');
								mainCon.append(con);
								return mainCon.html();
							}
						},
						{
							display: '操作',
							name: 'name',
							align: 'center',
							width: 120,
							render: function(rowdata, rowindex, value, column) {
								var mainCon = $('<div></div>');
								var con = $('<span class="operation_delete">删除</span>');
								mainCon.append(con);
								return mainCon.html();
							}
						}
					],
					data: gridData,
					sortName: 'id',
					rownumbers: false,
					checkbox: false,
					usePager: false,
					height: 'auto',
					width: "100%",
					pageSize: 10,
					percentWidthMode: true,
					onAfterShowData: onAfterShowData

				});
			}
			

			function onAfterShowData(data) {

				$("#dataBasic").find(".popupMenu").each(function() {
					$(this).hover(function() {
						$(this).find(".popupMenu_con").show();
					}, function() {
						$(this).find(".popupMenu_con").hide();
					});
				})
			}
			function new_purchased(){
				top.Dialog.open({URL:"../../sample_skin/demo/oa_34.html",Title:"商品列表",Width:1000,Height:600});
			}
		</script>
	</body>

</html>